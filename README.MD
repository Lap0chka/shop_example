# üß© Django Starter Template

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî —à–∞–±–ª–æ–Ω (boilerplate) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ Django.  
–û–Ω –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ Django –¥–æ —Å–≤—è–∑–æ–∫ —Å Celery, Redis –∏ Django REST Framework (DRF).

## üóÇ –í–µ—Ç–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- **`main`** ‚Äî –±–∞–∑–æ–≤—ã–π Django-–ø—Ä–æ–µ–∫—Ç
- **`django-celery`** ‚Äî Django + Celery + Redis
- **`drf`** ‚Äî Django REST Framework (DRF)
- **`drf-celery`** ‚Äî DRF + Celery + Redis

–ö–∞–∂–¥–∞—è –≤–µ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –±–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ `backend` (–ø–æ –∂–µ–ª–∞–Ω–∏—é)**  
   –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –ø–∞–ø–∫—É `backend` –Ω–∞ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–µ –∏–º—è.  

2**üêç –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
      ```bash
      python3 -m venv venv
      ```
   2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:
      ```bash
      source venv/bin/activate
      ```
   3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
      ```bash
      pip install -r requirements.txt
      ```
   ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, –≤ `.gitignore` —É–∫–∞–∑–∞–Ω–∞ –ø–∞–ø–∫–∞ `venv`.  
   –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —Ç–∞–∫–∂–µ –∏–∑–º–µ–Ω–∏—Ç—å:
   - [.gitignore](.gitignore)`.gitignore`
   - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ [linter.sh](linter.sh)
   - [pyproject.toml](pyproject.toml)`pyproject.toml`, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è


3. **üîê –°–æ–∑–¥–∞–Ω–∏–µ `.env` —Ñ–∞–π–ª–∞**  
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   cp .env_sample .env
   
4. üê≥ –ó–∞–ø—É—Å–∫ Docker Compose
üìå –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 5412, –∞ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 5432:

docker-compose up --build

5. üîÅ –°–º–µ–Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Git
   1.	–£–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â–∏–π origin:
        git remote remove origin
   2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–¥–∞–ª–µ–Ω—ã:
        git remote -v
   3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π origin
      git remote add origin <–Ω–æ–≤—ã–π-url>

6. ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
   1. cd –ø—Ä–æ–µ–∫—Ç
   2. ./manage.py runserver


### ‚öôÔ∏è Pre-commit —Ö—É–∫–∏

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω [pre-commit](https://pre-commit.com/) 
‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–∏–Ω—Ç–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ.

#### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pre-commit install
```

> –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ö—É–∫–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git commit`.

#### üöÄ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

```bash
pre-commit run --all-files
```


–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è [django-extensions](https://django-extensions.readthedocs.io/) 
‚Äî –Ω–∞–±–æ—Ä –ø–æ–ª–µ–∑–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

#### üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞           | –û–ø–∏—Å–∞–Ω–∏–µ                                                  |
|------------------|-----------------------------------------------------------|
| `shell_plus`     | –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ Python —Å –∞–≤—Ç–æ–∏–º–ø–æ—Ä—Ç–∞–º–∏ –º–æ–¥–µ–ª–µ–π        |
| `runserver_plus` | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –æ—Ç–ª–∞–¥—á–∏–∫–æ–º Werkzeug                  |
| `show_urls`      | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö URL –∏ –∏—Ö –∏–º—ë–Ω                                 |
| `graph_models`   | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ —Å–≤—è–∑–µ–π –≤ PNG/Graphviz              |

#### üß™ –ü—Ä–∏–º–µ—Ä—ã

```bash
python manage.py shell_plus
python manage.py runserver_plus
python manage.py show_urls
python manage.py graph_models app_name -o graph.png
```

---

### üêû Django Debug Toolbar

[django-debug-toolbar](https://django-debug-toolbar.readthedocs.io/) ‚Äî 
–º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

### üïì Django Simple History

[django-simple-history](https://django-simple-history.readthedocs.io/) ‚Äî
–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ–¥–µ–ª–µ–π Django.

#### üîç –ó–∞—á–µ–º –Ω—É–∂–Ω–æ

- üîí **–ê—É–¥–∏—Ç** ‚Äî –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª –¥–∞–Ω–Ω—ã–µ
- üïµÔ∏è **–û—Ç–ª–∞–¥–∫–∞** ‚Äî –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –±—ã–ª–∏ —Ä–∞–Ω—å—à–µ
- ‚è™ **–û—Ç–∫–∞—Ç** ‚Äî –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é –∑–∞–ø–∏—Å–∏


#### üß± –ü—Ä–∏–º–µ—Ä –º–æ–¥–µ–ª–∏

```python
from django.db import models
from simple_history.models import HistoricalRecords

class Product(models.Model):
    name = models.CharField(max_length=255)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    history = HistoricalRecords()
```

#### üõ† –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
python manage.py makemigrations
python manage.py migrate
```

#### üß™ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
product = Product.objects.create(name="Phone", price=500)
product.price = 450
product.save()

for record in product.history.all():
    print(record.history_date, record.price)


#### üñ• –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

```python
from django.contrib import admin
from simple_history.admin import SimpleHistoryAdmin
from .models import Product

admin.site.register(Product, SimpleHistoryAdmin)
```
"""

### üîê Security Best Practices

#### 1. üåê django-cors-headers

–ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å [CORS (Cross-Origin Resource Sharing)](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS), 
—á—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –¥–æ–º–µ–Ω–∞–º.


üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è: –∑–∞—â–∏—Ç—ã API –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —Å –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤.

---

#### 2. üß± Secure Headers (–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏)

Django –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—â–∏—â–∞—é—Ç –æ—Ç XSS, MIME-sniffing –∏ Clickjacking.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `settings.py`:

```python
SECURE_BROWSER_XSS_FILTER = True
SECURE_CONTENT_TYPE_NOSNIFF = True
X_FRAME_OPTIONS = 'DENY'
SECURE_HSTS_SECONDS = 31536000  # –≤–∫–ª—é—á–∞–µ—Ç HSTS –¥–ª—è HTTPS
SECURE_HSTS_INCLUDE_SUBDOMAINS = True
SECURE_SSL_REDIRECT = True
SESSION_COOKIE_SECURE = True
CSRF_COOKIE_SECURE = True
```

üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è: –ø–æ–≤—ã—à–µ–Ω–∏—è –∑–∞—â–∏—â—ë–Ω–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.

---

#### 3. üîê django-csp

[Content Security Policy (CSP)](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) ‚Äî 

üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, —Å—Ç–∏–ª–µ–π –∏ –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.


### üõ† Adminer –≤ Docker

[Adminer](https://www.adminer.org/) ‚Äî 
–ª—ë–≥–∫–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ phpMyAdmin).

#### üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ docker-compose


```bash
docker-compose up -d
```

Adminer –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8080](http://localhost:8080)

#### üîê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

- **System**: PostgreSQL –∏–ª–∏ MySQL (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ `db`)
- **Server**: –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏–∑ `docker-compose.yml` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `db`)
- **Username** / **Password**: —Ç–µ –∂–µ, —á—Ç–æ –≤ `DATABASES` –≤ `settings.py`
- **Database**: –∏–º—è –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è: –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### üß™ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è  | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                      |
|------------|------------|--------------------------------------------------|
| –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | `black`     | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è      | `mypy`      | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ Python –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º           |
| –°—Ç–∏–ª—å          | `flake8`    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏—è —Å—Ç–∏–ª—è –∫–æ–¥–∞ (PEP8)         |
| –ê–Ω–∞–ª–∏–∑         | `pylint`    | –ì–ª—É–±–æ–∫–∏–π –ª–∏–Ω—Ç–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞       |

–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ª–∏–Ω—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç—ã –∏ CI –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.
